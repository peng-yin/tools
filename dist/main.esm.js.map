{"version":3,"file":"main.esm.js","sources":["../src/main.ts"],"sourcesContent":["declare global {\n  interface Window {\n    ActiveXObject: any;\n  }\n}\nclass Ie {\n  public prefix: Array<string> = [];\n  private userAgent: string = navigator.userAgent;\n  private minVersion = 6;\n  private maxVersion = 11;\n  public constructor(prefix = [\"Moz\", \"Webkit\", \"O\", \"ms\", \"Khtml\"]) {\n    this.prefix = prefix;\n  }\n  /**\n   * 返回环境是否为ie\n   */\n  public isIe(): boolean {\n    return !!(window.ActiveXObject || \"ActiveXObject\" in window);\n  }\n  /**\n   * @front {number} 判断的版本\n   * @after {number} 可选参数，如果存在则判断范围\n   */\n  public is(front: number, after?: number): boolean {    \n    this.Error(front);\n    if (after === undefined) {\n      return front == 11 ? this.ie11() : this.range(front);\n    }\n    // 判断一下位置大小，如果大于则交换位置\n    this.Error(after);\n    if (front > after) {\n      // 借助二进制运算符交换一下，这里可以用其他方式\n      (front ^= after), (after ^= front), (front ^= after);\n    }\n    for (let i = front; i <= after; i++) {\n      const result = i == 11 ? this.ie11() : this.range(i);\n      if (result) {\n        return true;\n      }\n    }\n    return false;\n  }\n  public isEdge(): boolean {\n    return this.userAgent.indexOf(\"Edge\") > -1;\n  }\n  /**\n   *侦查css支持情况\n   */\n  public detectCss(name: string): boolean {\n    if (name in document.body.style) return true;\n    const prefProperty = name.charAt(0).toUpperCase() + name.substr(1);\n    for (const value of this.prefix) {\n      const v = value + prefProperty;\n      if (v in document.body.style) {\n        return true;\n      }\n    }\n    return false;\n  }\n  private ie11(): boolean {\n    const reg = /rv:(\\d+)/;\n    const exec = reg.exec(this.userAgent);\n    return !!(exec && Number(exec[1]) == 11);\n  }\n  private range(edition: number): boolean {\n    var reg = /MSIE\\s+(\\d+)/;\n    var exec = reg.exec(this.userAgent);\n    return !!(exec && Number(exec[1]) == edition);\n  }\n  // 报错\n  private Error(edition: number) {\n    if (\n      isNaN(edition) ||\n      edition > this.maxVersion ||\n      edition < this.minVersion\n    ) {\n      throw new Error(\n        `Error in filling in version number, the correct range is ${this.minVersion} - ${this.maxVersion}`\n      );\n    }\n  }\n}\nconst ie = new Ie();\nexport default ie;"],"names":[],"mappings":"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"}