{"version":3,"file":"main.js","sources":["../src/main.ts"],"sourcesContent":["declare global {\n  interface Window {\n    ActiveXObject: any;\n  }\n}\nclass Ie {\n  public prefix: Array<string> = [];\n  private userAgent: string = navigator.userAgent;\n  private minVersion = 6;\n  private maxVersion = 11;\n  public constructor(prefix = [\"Moz\", \"Webkit\", \"O\", \"ms\", \"Khtml\"]) {\n    this.prefix = prefix;\n  }\n  /**\n   * 返回环境是否为ie\n   */\n  public isIe(): boolean {\n    return !!(window.ActiveXObject || \"ActiveXObject\" in window);\n  }\n  /**\n   * @front {number} 判断的版本\n   * @after {number} 可选参数，如果存在则判断范围\n   */\n  public is(front: number, after?: number): boolean {    \n    this.Error(front);\n    if (after === undefined) {\n      return front == 11 ? this.ie11() : this.range(front);\n    }\n    // 判断一下位置大小，如果大于则交换位置\n    this.Error(after);\n    if (front > after) {\n      // 借助二进制运算符交换一下，这里可以用其他方式\n      (front ^= after), (after ^= front), (front ^= after);\n    }\n    for (let i = front; i <= after; i++) {\n      const result = i == 11 ? this.ie11() : this.range(i);\n      if (result) {\n        return true;\n      }\n    }\n    return false;\n  }\n  public isEdge(): boolean {\n    return this.userAgent.indexOf(\"Edge\") > -1;\n  }\n  /**\n   *侦查css支持情况\n   */\n  public detectCss(name: string): boolean {\n    if (name in document.body.style) return true;\n    const prefProperty = name.charAt(0).toUpperCase() + name.substr(1);\n    for (const value of this.prefix) {\n      const v = value + prefProperty;\n      if (v in document.body.style) {\n        return true;\n      }\n    }\n    return false;\n  }\n  private ie11(): boolean {\n    const reg = /rv:(\\d+)/;\n    const exec = reg.exec(this.userAgent);\n    return !!(exec && Number(exec[1]) == 11);\n  }\n  private range(edition: number): boolean {\n    var reg = /MSIE\\s+(\\d+)/;\n    var exec = reg.exec(this.userAgent);\n    return !!(exec && Number(exec[1]) == edition);\n  }\n  // 报错\n  private Error(edition: number) {\n    if (\n      isNaN(edition) ||\n      edition > this.maxVersion ||\n      edition < this.minVersion\n    ) {\n      throw new Error(\n        `Error in filling in version number, the correct range is ${this.minVersion} - ${this.maxVersion}`\n      );\n    }\n  }\n}\nconst ie = new Ie();\nexport default ie;"],"names":[],"mappings":"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"}