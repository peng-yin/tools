{"version":3,"file":"main.min.js","sources":["../src/main.ts"],"sourcesContent":["declare global {\n  interface Window {\n    ActiveXObject: any;\n  }\n}\nclass Ie {\n  public prefix: Array<string> = [];\n  private userAgent: string = navigator.userAgent;\n  private minVersion = 6;\n  private maxVersion = 11;\n  public constructor(prefix = [\"Moz\", \"Webkit\", \"O\", \"ms\", \"Khtml\"]) {\n    this.prefix = prefix;\n  }\n  /**\n   * 返回环境是否为ie\n   */\n  public isIe(): boolean {\n    return !!(window.ActiveXObject || \"ActiveXObject\" in window);\n  }\n  /**\n   * @front {number} 判断的版本\n   * @after {number} 可选参数，如果存在则判断范围\n   */\n  public is(front: number, after?: number): boolean {    \n    this.Error(front);\n    if (after === undefined) {\n      return front == 11 ? this.ie11() : this.range(front);\n    }\n    // 判断一下位置大小，如果大于则交换位置\n    this.Error(after);\n    if (front > after) {\n      // 借助二进制运算符交换一下，这里可以用其他方式\n      (front ^= after), (after ^= front), (front ^= after);\n    }\n    for (let i = front; i <= after; i++) {\n      const result = i == 11 ? this.ie11() : this.range(i);\n      if (result) {\n        return true;\n      }\n    }\n    return false;\n  }\n  public isEdge(): boolean {\n    return this.userAgent.indexOf(\"Edge\") > -1;\n  }\n  /**\n   *侦查css支持情况\n   */\n  public detectCss(name: string): boolean {\n    if (name in document.body.style) return true;\n    const prefProperty = name.charAt(0).toUpperCase() + name.substr(1);\n    for (const value of this.prefix) {\n      const v = value + prefProperty;\n      if (v in document.body.style) {\n        return true;\n      }\n    }\n    return false;\n  }\n  private ie11(): boolean {\n    const reg = /rv:(\\d+)/;\n    const exec = reg.exec(this.userAgent);\n    return !!(exec && Number(exec[1]) == 11);\n  }\n  private range(edition: number): boolean {\n    var reg = /MSIE\\s+(\\d+)/;\n    var exec = reg.exec(this.userAgent);\n    return !!(exec && Number(exec[1]) == edition);\n  }\n  // 报错\n  private Error(edition: number) {\n    if (\n      isNaN(edition) ||\n      edition > this.maxVersion ||\n      edition < this.minVersion\n    ) {\n      throw new Error(\n        `Error in filling in version number, the correct range is ${this.minVersion} - ${this.maxVersion}`\n      );\n    }\n  }\n}\nconst ie = new Ie();\nexport default ie;"],"names":["prefix","this","navigator","userAgent","Ie","window","ActiveXObject","front","after","Error","undefined","ie11","range","i","indexOf","name","document","body","style","prefProperty","charAt","toUpperCase","substr","_a","_i","exec","Number","edition","isNaN","maxVersion","minVersion"],"mappings":"gMAkFW,eAxET,WAAmBA,gBAAAA,GAAU,MAAO,SAAU,IAAK,KAAM,UAJlDC,YAAwB,GACvBA,eAAoBC,UAAUC,UAC9BF,gBAAa,EACbA,gBAAa,GAEnBA,KAAKD,OAASA,EAsElB,OAjESI,iBAAP,WACE,SAAUC,OAAOC,eAAiB,kBAAmBD,SAMhDD,eAAP,SAAUG,EAAeC,GAEvB,GADAP,KAAKQ,MAAMF,QACGG,IAAVF,EACF,OAAgB,IAATD,EAAcN,KAAKU,OAASV,KAAKW,MAAML,GAGhDN,KAAKQ,MAAMD,GACPD,EAAQC,IAETD,GAASC,EAA2BD,GAAlBC,GAASD,GAE9B,IAAK,IAAIM,EAAIN,EAAOM,GAAKL,EAAOK,IAAK,CAEnC,GADoB,IAALA,EAAUZ,KAAKU,OAASV,KAAKW,MAAMC,GAEhD,OAAO,EAGX,OAAO,GAEFT,mBAAP,WACE,OAAOH,KAAKE,UAAUW,QAAQ,SAAW,GAKpCV,sBAAP,SAAiBW,GACf,GAAIA,KAAQC,SAASC,KAAKC,MAAO,OAAO,EAExC,IADA,IAAMC,EAAeJ,EAAKK,OAAO,GAAGC,cAAgBN,EAAKO,OAAO,OAC5CC,EAAAtB,KAAKD,OAALwB,WAAAA,IAAa,CAE/B,QADkBL,KACTH,SAASC,KAAKC,MACrB,OAAO,EAGX,OAAO,GAEDd,iBAAR,WACE,IACMqB,EADM,WACKA,KAAKxB,KAAKE,WAC3B,SAAUsB,GAA2B,IAAnBC,OAAOD,EAAK,MAExBrB,kBAAR,SAAcuB,GACZ,IACIF,EADM,eACKA,KAAKxB,KAAKE,WACzB,SAAUsB,GAAQC,OAAOD,EAAK,KAAOE,IAG/BvB,kBAAR,SAAcuB,GACZ,GACEC,MAAMD,IACNA,EAAU1B,KAAK4B,YACfF,EAAU1B,KAAK6B,WAEf,MAAM,IAAIrB,MACR,4DAA4DR,KAAK6B,iBAAgB7B,KAAK4B"}